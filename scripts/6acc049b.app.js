"use strict";angular.module("johnsMusicPage",["ngRoute","ui.bootstrap","duScroll"]).config(["$routeProvider",function(a){a.when("/",{controller:"MainController"}).otherwise({redirectTo:"/"})}]).value("duScrollDuration",1e3),angular.module("johnsMusicPage").factory("Picture",[function(){var a=function(a,b){this.caption=a,this.image=b};return a}]),angular.module("johnsMusicPage").directive("multiScrollspy",["$rootScope",function(a){var b={restrict:"A",link:function(b,c,d){var e=[],f=function(){return window.innerHeight||document.documentElement.clientHeight},g=function(a){{var b=a.getBoundingClientRect(),c=f(),d=b.top<0&&b.bottom<0,e=b.top>c&&b.bottom>c;b.top>=0||b.bottom<=c}return!d&&!e};a.$on("$duScrollChanged",function(){e=document.querySelectorAll(d.multiScrollspy),_.some(e,g)?c.addClass("active"):c.removeClass("active")})}};return b}]),angular.module("johnsMusicPage").directive("gallery",[function(){var a={restrict:"E",templateUrl:"views/templates/gallery.html",transclude:!1,replace:!1,scope:{pictures:"=",interval:"="},link:function(a){a.$watch("pictures",function(){a.selectedIndex=0}),a.select=function(b,c){a.selectedIndex=c},a.selected=function(){return a.pictures[a.selectedIndex||0]},a.next=function(){a.selectedIndex=(a.selectedIndex+1)%a.pictures.length}}};return a}]),angular.module("johnsMusicPage").directive("menuItem",[function(){var a={restrict:"E",templateUrl:"views/templates/menuItem.html",transclude:!1,replace:!0,scope:{href:"@",icon:"@",text:"@",onClick:"&"},link:function(){}};return a}]),angular.module("johnsMusicPage").directive("menuDropdown",["scroller",function(){var a={restrict:"E",templateUrl:"views/templates/menuDropdown.html",transclude:!0,replace:!0,scope:{icon:"@",text:"@"},controller:"MenuDropdownController"};return a}]),angular.module("johnsMusicPage").directive("menuDropdownItem",[function(){var a={restrict:"E",require:"^menuDropdown",scope:{href:"@",text:"@",onClick:"&"},link:function(a,b,c,d){d.addItem({href:a.href,text:a.text,onClick:a.onClick})}};return a}]),angular.module("johnsMusicPage").directive("highlight",[function(){var a={restrict:"E",transclude:!0,replace:!0,templateUrl:"views/templates/highlight.html"};return a}]),angular.module("johnsMusicPage").directive("sectionHeader",[function(){var a={restrict:"E",replace:!0,transclude:!1,templateUrl:"views/templates/sectionHeader.html",scope:{text:"@",sub:"@",icon:"@"}};return a}]),angular.module("johnsMusicPage").controller("MainController",["$scope","$location","$rootScope","$window","scroller",function(a,b,c,d){a.showCarousel=function(){return"/"==b.path()},a.menuCollapsed=!0,a.toggleMenu=function(b){d.innerWidth>768||(b=arguments&&arguments.length?b:!a.menuCollapsed,a.menuCollapsed=b)}}]),angular.module("johnsMusicPage").controller("MediaController",["$scope","$location","Picture",function(a,b,c){a.popduo=[new c("Marcin Janek","images/cd06b28b.duet-sax.jpg"),new c("Irek Pestka","images/91c13899.duet-guitar.jpg")],a.trio=[new c("Marcin Janek","images/8272e9a3.trio-sax.jpg"),new c("Michał Ciesielski","images/67152079.trio-keys.jpg"),new c("Michał Bąk","images/70e415b8.trio-bass.jpg")],a.quartet=[new c("Marcin Janek","images/f0039290.quartet-sax.jpg"),new c("Michał Bąk","images/49c2b72b.quartet-bass.jpg"),new c("Arkadiusz Krawiel","images/196ed499.quartet-piano.jpg"),new c("Jacek Prościński","images/2c87fbc6.quartet-drums.jpg")]}]),angular.module("johnsMusicPage").controller("MenuDropdownController",["$scope","scroller","$timeout",function(a,b,c){a.items=[],a.status={open:!1,toggling:!1},a.delayToggle=function(b,d){a.status.toggling=!0,c(function(){a.$apply(function(){a.status.toggling&&(a.status.toggling=!1,a.status.open=d)})},100)},a.cancelToggle=function(){a.status.toggling=!1},a.toggle=function(b,c){b.preventDefault(),b.stopPropagation(),a.status.open=c},a.itemsSelector=function(){var b=_.map(a.items,function(a){return a.href});return b.join()},a.gotoFirstItem=function(){if(0!=a.items.length){var c=a.items[0].href;b.scrollToElement(document.querySelector(c),110,1e3)}},this.addItem=function(b){a.items.push(b)},a.$watch("status.open",function(){console.log(arguments)})}]);